---
phase: 03-discovery-interface
plan: 03
type: execute
wave: 3
depends_on: ["03-02"]
files_modified: [
  "frontend/components/analytics/ProgressDashboard.tsx",
  "frontend/components/analytics/ProgressCharts.tsx",
  "frontend/components/analytics/SkillTracking.tsx",
  "frontend/hooks/useProgress.ts",
  "frontend/hooks/useFilters.ts",
  "frontend/components/discovery/ChallengeDiscovery.tsx",
  "frontend/app/layout.tsx"
]
autonomous: true

must_haves:
  truths:
    - "User can view progress analytics and completion statistics"
    - "User can track skill development across different categories"
    - "Filter and search state persists in URL for shareable links"
    - "User can bookmark specific filtered views of challenges"
    - "Progress data updates when challenges are completed"
  artifacts:
    - path: "frontend/components/analytics/ProgressDashboard.tsx"
      provides: "Progress tracking dashboard with charts"
      min_lines: 120
    - path: "frontend/hooks/useFilters.ts"
      provides: "URL state management with nuqs"
      exports: ["useDiscoveryFilters"]
    - path: "frontend/hooks/useProgress.ts"
      provides: "Progress tracking and analytics hooks"
      exports: ["useProgress", "useSkillProgress"]
  key_links:
    - from: "frontend/hooks/useFilters.ts"
      to: "URL search parameters"
      via: "nuqs URL state sync"
      pattern: "useQueryState.*parseAsString"
    - from: "frontend/components/analytics/ProgressCharts.tsx"
      to: "recharts charts"
      via: "shadcn/ui chart components"
      pattern: "ChartContainer.*BarChart"
    - from: "frontend/hooks/useProgress.ts"
      to: "localStorage"
      via: "client-side progress persistence"
      pattern: "localStorage.setItem.*progress"
---

<objective>
Implement progress tracking analytics and URL state management for shareable discovery interface

Purpose: Enable users to track learning progress and maintain filter state across sessions with shareable URLs
Output: Analytics dashboard and URL-synchronized filters for enhanced user experience
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-discovery-interface/03-RESEARCH.md
@.planning/phases/03-discovery-interface/03-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Implement progress tracking and analytics system</name>
  <files>
    frontend/components/analytics/ProgressDashboard.tsx
    frontend/components/analytics/ProgressCharts.tsx
    frontend/components/analytics/SkillTracking.tsx
    frontend/hooks/useProgress.ts
  </files>
  <action>
    Install recharts dependency and create progress tracking system using localStorage for client-side persistence. Create useProgress.ts hook to manage challenge completion data: trackCompletion(challengeId, timeSpent, flagFound), getProgressStats(), getCategoryProgress(), getSkillProgress(). Store progress as JSON in localStorage with structure: {challengeId: {completed: boolean, timeSpent: number, flagFound: boolean, completedAt: timestamp}}. Create ProgressDashboard.tsx with overview cards (total challenges, completed, success rate, time spent) and navigation tabs. Create ProgressCharts.tsx using shadcn/ui chart components and recharts: completion by category (bar chart), difficulty progression (line chart), time spent trends (area chart). Create SkillTracking.tsx showing skill development in different vulnerability categories (web, crypto, forensics, etc.) with progress bars and recommended next challenges.
  </action>
  <verify>
    Progress dashboard renders charts and tracks challenge completion correctly
  </verify>
  <done>
    Progress tracking system stores completion data, analytics dashboard shows meaningful charts and statistics
  </done>
</task>

<task type="auto">
  <name>Implement URL state management with nuqs</name>
  <files>
    frontend/hooks/useFilters.ts
    frontend/components/discovery/ChallengeDiscovery.tsx
  </files>
  <action>
    Install nuqs library and create useFilters.ts hook following the exact patterns from research document. Implement useQueryState hooks for: search (parseAsString), category (parseAsString), difficulty (parseAsString), page (parseAsInteger), sortBy (parseAsString), sortOrder (parseAsString), view (parseAsString for table/grid). Each filter should have sensible defaults and proper type parsing. Update ChallengeDiscovery.tsx to use URL state instead of component state for all filter operations. Ensure filter changes update URL parameters immediately and URL changes update the interface. Test that filtered views are shareable via URL copy/paste and browser back/forward navigation works correctly.
  </action>
  <verify>
    URL updates when filters change, browser navigation preserves filter state, shareable URLs work
  </verify>
  <done>
    All filter state is synchronized with URL parameters, filtered views are shareable and bookmarkable
  </done>
</task>

<task type="auto">
  <name>Integrate progress tracking with discovery interface</name>
  <files>
    frontend/components/discovery/ChallengeDiscovery.tsx
    frontend/app/layout.tsx
  </files>
  <action>
    Add progress dashboard as a tab or section in the discovery interface. Integrate progress tracking with challenge completion - when flag validation succeeds, automatically call trackCompletion with the challenge session data. Add completion indicators to challenge cards and table rows (checkmark badges for completed challenges, progress indicators for attempted). Update challenge filtering to include completion status filter (all/completed/attempted/not-started) using progress data. Add progress context provider to layout.tsx if needed for global progress state management. Ensure progress data updates trigger UI re-renders to show current completion status across all components.
  </action>
  <verify>
    Challenge completion updates progress tracking, completion indicators appear in discovery interface
  </verify>
  <done>
    Discovery interface shows progress indicators, completion tracking works end-to-end, progress dashboard integrates seamlessly
  </done>
</task>

</tasks>

<verification>
- Progress dashboard displays meaningful analytics and charts
- URL state management preserves filters across navigation
- Shareable URLs load with correct filter state applied
- Challenge completion automatically updates progress tracking
- Completion indicators appear in discovery interface
</verification>

<success_criteria>
- User can track learning progress across different challenge categories
- Filter state persists in URL for shareable and bookmarkable views
- Progress analytics provide insights into skill development
- Challenge completion integrates seamlessly with progress tracking
- All components maintain consistency with shadcn/ui design system
</success_criteria>

<output>
After completion, create `.planning/phases/03-discovery-interface/03-03-SUMMARY.md`
</output>