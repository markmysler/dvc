---
phase: 03-discovery-interface
plan: 02
type: execute
wave: 2
depends_on: ["03-01"]
files_modified: [
  "frontend/app/page.tsx",
  "frontend/components/discovery/ChallengeDiscovery.tsx",
  "frontend/components/discovery/ChallengeTable.tsx",
  "frontend/components/discovery/ChallengeFilters.tsx",
  "frontend/components/discovery/ChallengeCard.tsx",
  "frontend/components/discovery/ChallengeDetailModal.tsx",
  "frontend/lib/types.ts"
]
autonomous: true

must_haves:
  truths:
    - "User can browse challenges in a Netflix-style discovery interface"
    - "User can search challenges by name, description, and tags"
    - "User can filter challenges by difficulty, category, and completion status"
    - "User can view detailed challenge information in modal"
    - "User can spawn challenge containers with spawn button"
  artifacts:
    - path: "frontend/components/discovery/ChallengeDiscovery.tsx"
      provides: "Main discovery interface component"
      min_lines: 100
    - path: "frontend/components/discovery/ChallengeTable.tsx"
      provides: "TanStack Table with filtering and sorting"
      min_lines: 150
    - path: "frontend/components/discovery/ChallengeDetailModal.tsx"
      provides: "Challenge detail view with spawn controls"
      min_lines: 80
    - path: "frontend/lib/types.ts"
      provides: "TypeScript interfaces for challenges"
      contains: "interface Challenge"
  key_links:
    - from: "frontend/components/discovery/ChallengeTable.tsx"
      to: "frontend/hooks/useChallenges.ts"
      via: "React Query data fetching"
      pattern: "useChallenges.*data"
    - from: "frontend/components/discovery/ChallengeDetailModal.tsx"
      to: "frontend/hooks/useChallenges.ts"
      via: "spawn mutation call"
      pattern: "useSpawnChallenge.*mutate"
    - from: "frontend/components/discovery/ChallengeFilters.tsx"
      to: "TanStack Table filtering"
      via: "column filter state"
      pattern: "setColumnFilters"
---

<objective>
Build Netflix-style discovery interface with advanced filtering, search, and challenge spawning capabilities

Purpose: Enable users to discover, filter, and interact with cybersecurity challenges through an intuitive web interface
Output: Complete discovery interface with table view, search, filtering, and challenge detail modals
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-discovery-interface/03-RESEARCH.md
@.planning/phases/03-discovery-interface/03-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Create challenge discovery interface components</name>
  <files>
    frontend/components/discovery/ChallengeDiscovery.tsx
    frontend/components/discovery/ChallengeCard.tsx
    frontend/lib/types.ts
    frontend/app/page.tsx
  </files>
  <action>
    Create TypeScript interfaces in types.ts for Challenge (id, name, description, difficulty, category, points, tags, estimated_time), ChallengeSession, and API responses matching the Flask API structure. Create ChallengeDiscovery.tsx as the main discovery interface component that fetches challenges using useChallenges hook and manages view state (table vs grid). Create ChallengeCard.tsx for individual challenge cards with difficulty badges, category tags, points display, and quick spawn button. Update app/page.tsx to render ChallengeDiscovery as the main interface. Use shadcn/ui components (Card, Badge, Button) and follow the research patterns for Server Component initial data loading.
  </action>
  <verify>
    cd frontend && npm run dev shows discovery interface loading challenges from API
  </verify>
  <done>
    Discovery interface renders challenge cards with proper typing, shows challenge metadata, and connects to API data
  </done>
</task>

<task type="auto">
  <name>Implement advanced data table with TanStack Table</name>
  <files>
    frontend/components/discovery/ChallengeTable.tsx
    frontend/components/discovery/ChallengeFilters.tsx
  </files>
  <action>
    Create ChallengeTable.tsx using TanStack Table v8 with the exact patterns from research document. Implement columns for name, difficulty, category, points, tags, estimated time, and actions (spawn button). Add global search functionality with debounced input. Implement column filtering for difficulty (beginner/intermediate/advanced/expert), category faceted filter, and completion status filter (completed/attempted/not-started). Use shadcn/ui Table, Input, Select components. Create ChallengeFilters.tsx for the filter controls with progressive disclosure pattern - show main filters (search, difficulty, category) prominently and "More filters" toggle for advanced options. Include empty state handling when no challenges match filters.
  </action>
  <verify>
    Table renders with all challenges, search filters results, difficulty/category filters work correctly
  </verify>
  <done>
    Data table displays challenges with working search, column filtering, sorting, and empty states for no results
  </done>
</task>

<task type="auto">
  <name>Create challenge detail modal with spawn functionality</name>
  <files>
    frontend/components/discovery/ChallengeDetailModal.tsx
  </files>
  <action>
    Create ChallengeDetailModal.tsx using shadcn/ui Dialog component. Display full challenge information: name, description, learning objectives, hints, estimated time, difficulty, category, points, tags. Include container status section showing if challenge is running (session info) or available to spawn. Add spawn challenge button that calls useSpawnChallenge mutation with user feedback (loading state, success/error messages). Add stop challenge button if session is active. Include flag submission area with input field and validate button using useValidateFlag mutation. Handle all API states (loading, success, error) with proper user feedback using shadcn/ui Toast or Alert components. Follow the modal patterns from research with proper accessibility.
  </action>
  <verify>
    Modal opens with challenge details, spawn button triggers container creation, flag submission works
  </verify>
  <done>
    Challenge detail modal shows complete information, spawn/stop functionality works, flag validation is functional
  </done>
</task>

</tasks>

<verification>
- Discovery interface loads and displays challenges from Flask API
- Search functionality filters challenges by name/description/tags
- Difficulty and category filters work correctly
- Challenge detail modal opens and shows complete information
- Spawn challenge button creates container sessions
- Flag validation submits to API and shows results
</verification>

<success_criteria>
- User can browse challenges through Netflix-style interface with table and card views
- Advanced search and filtering work with real-time updates
- Challenge spawning integrates with backend orchestrator
- Flag submission and validation work end-to-end
- All UI components use shadcn/ui design system consistently
</success_criteria>

<output>
After completion, create `.planning/phases/03-discovery-interface/03-02-SUMMARY.md`
</output>